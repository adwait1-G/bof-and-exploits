#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>

void execute_mc()
{
	char buffer[10000] = {0};
	void (*executemc)() = NULL;

	printf("Enter machine code ");
	fflush(stdout);
	
	read(0, buffer, sizeof(buffer));
	fflush(stdin);
	executemc = buffer;

	executemc();
}

int main()
{
	printf("Before execute_mc()\n");
	execute_mc();
	printf("After execute_mc()\n");
	return 0;
}
